document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".house-slider__dot"),t=document.querySelector(".header-burger-menu");t&&(t.onclick=()=>{t.classList.toggle("active"),document.body.classList.toggle("scroll-disabled")}),$(".house-slider").slick({dots:!0,fade:!0,appendDots:$(".house-slider__dots"),customPaging:function(t,s){if(e)return Array.from(e).map((e,t)=>{if(t===s)return`<a>${e.innerHTML}</a>`})},infinite:!0,speed:500,slidesToShow:1,focusOnSelect:!0});const s=document.querySelector(".start-value-holder"),o=document.querySelector(".end-value-holder");function a(){$(".popular-projects-new-slider").slick({dots:!0,infinite:!0,speed:500,slidesToShow:2,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,focusOnSelect:!0,responsive:[{breakpoint:1023,settings:{slidesToShow:3},breakpoint:768,settings:{slidesToShow:2}}]})}$((function(){$("#price-range").slider({range:!0,min:0,max:15e6,values:[7e5,9e6],slide:function(e,t){$("#priceRange").val(t.values[0]+" - "+t.values[1]),s&&o&&(s.innerHTML=t.values[0],o.innerHTML=t.values[1])}}),s&&o&&(s.innerHTML=$("#price-range").slider("values",0),o.innerHTML=$("#price-range").slider("values",1))})),$(".popular-projects-slider").slick({dots:!1,infinite:!0,speed:500,slidesToShow:2,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,focusOnSelect:!0,prevArrow:'\n        <button class="slide-arrow slide-arrow-prev">\n            <svg width="8" height="11" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.55078 1L5.82601 5.2098L1.55078 9.4196" stroke="#0E0E0E" stroke-width="2"/>\n            </svg>\n        </button>',nextArrow:'\n        <button class="slide-arrow slide-arrow-next">\n            <svg width="8" height="11" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.55078 1L5.82601 5.2098L1.55078 9.4196" stroke="#0E0E0E" stroke-width="2"/>\n            </svg>\n        </button>',responsive:[{breakpoint:1024,settings:{slidesToShow:1}}]}),window.innerWidth<1024&&a(),$(".ready-projects-slider").slick({dots:!1,arrows:!1,infinite:!0,speed:500,slidesToShow:3,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:3,variableWidth:!0}},{breakpoint:480,settings:{slidesToShow:2}}]}),$(".service-life-slider").slick({dots:!1,speed:500,slidesToShow:2,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,focusOnSelect:!0,prevArrow:'\n        <button class="slide-arrow slide-arrow-prev slide-arrow-life">\n            <svg width="8" height="11" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.55078 1L5.82601 5.2098L1.55078 9.4196" stroke="#0E0E0E" stroke-width="2"/>\n            </svg>\n        </button>',nextArrow:'\n        <button class="slide-arrow slide-arrow-next slide-arrow-life">\n            <svg width="8" height="11" viewBox="0 0 8 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.55078 1L5.82601 5.2098L1.55078 9.4196" stroke="#0E0E0E" stroke-width="2"/>\n            </svg>\n        </button>',responsive:[{breakpoint:1024,settings:{slidesToShow:1}}]});const i=document.querySelectorAll(".service-life-info");$(".service-life-slider").on("init reInit afterChange",(function(e,t,s,o){i&&Array.from(i).forEach(e=>{e.dataset.info==s+1?e.classList.add("visible"):e.classList.remove("visible")})})),$(".faq-block-slider").slick({dots:!1,arrows:!1,speed:500,slidesToShow:4,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}}]});const l=document.querySelector(".project-card__select.custom-select select"),r=document.querySelectorAll(".selected-content");l&&r&&(l.onchange=e=>{Array.from(l.children).forEach(e=>{e.classList.remove("selected")}),Array.from(e.target.children).forEach((e,t)=>{e.selected&&e.classList.add("selected"),r[t].classList.remove("shown"),e.classList.contains("selected")&&e.dataset.option===r[t].dataset.content&&r[t].classList.add("shown")})});const n=document.querySelector(".map-modal-buttons"),c=document.querySelectorAll(".map-modal-btn"),d=document.querySelector(".modal"),u=document.querySelectorAll(".modal-block"),v=document.querySelector(".modal-close"),p=document.querySelectorAll(".contacts-block__button"),h=document.querySelectorAll(".contacts-block-info-block"),m=document.querySelectorAll(".map-btn-container"),f=document.querySelectorAll(".mobile-nav-button");n&&c&&d&&(n.onclick=e=>{d.classList.add("visible"),c.forEach(e=>{e.classList.remove("active")}),u.forEach(t=>{e.target.dataset.map===t.dataset.modal&&t.classList.add("visible")}),e.target.classList.add("active")}),Array.from(h).forEach(e=>{e.onclick=e=>{p.forEach(e=>{e.classList.remove("active")}),u.forEach(t=>{e.target.dataset.map===t.dataset.modal&&(t.classList.add("visible"),e.target.classList.add("active"),d.classList.add("visible"))})}}),m.forEach(e=>{e.onclick=e=>{f.forEach(e=>{e.classList.remove("active")}),u.forEach(t=>{e.target.dataset.map===t.dataset.modal&&(t.classList.add("visible"),e.target.classList.add("active"),d.classList.add("visible"))})}}),ymaps.ready((function(){var e=new ymaps.Map("map1",{center:[55.753994,37.622093],zoom:9,controls:["routePanelControl"]}),t=e.controls.get("routePanelControl");t.routePanel.state.set({type:"masstransit",fromEnabled:!0,to:"Мега Дыбенко, 37, Мурманское шоссе 12 км, Кудрово",toEnabled:!1}),t.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!0,pedestrian:!0,taxi:!0}});var s=new ymaps.control.Button({data:{content:"Поменять местами",title:"Поменять точки местами"},options:{selectOnClick:!1,maxWidth:160}});s.events.add("click",(function(){t.routePanel.switchPoints()})),e.controls.add(s)})),ymaps.ready((function(){var e=new ymaps.Map("map2",{center:[55.753994,37.622093],zoom:9,controls:["routePanelControl"]}),t=e.controls.get("routePanelControl");t.routePanel.state.set({type:"masstransit",fromEnabled:!0,to:"пр. Культуры, 41",toEnabled:!1}),t.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!0,pedestrian:!0,taxi:!0}});var s=new ymaps.control.Button({data:{content:"Поменять местами",title:"Поменять точки местами"},options:{selectOnClick:!1,maxWidth:160}});s.events.add("click",(function(){t.routePanel.switchPoints()})),e.controls.add(s)}));const w=document.querySelector(".catalog-projects-container"),g=document.querySelector(".change-view"),b=document.querySelectorAll(".change-view__btn");g&&w&&b&&(g.onclick=e=>{b.forEach(e=>{e.classList.remove("active")}),e.target.classList.add("active"),e.target.classList.contains("active")&&(e.target.classList.contains("full-width")?w.classList.add("full-width"):e.target.classList.contains("part-view")&&w.classList.remove("full-width"))}),$(".catalog-page-photos-slider").slick({dots:!1,arrows:!1,speed:500,slidesToShow:4,infinite:!1,swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!0,focusOnSelect:!0,responsive:[{breakpoint:1441,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:3}}]});const S=document.querySelector(".ask-us__textarea");if(S){!function(e){if(e.setSelectionRange)e.focus(),e.setSelectionRange(0,0);else if(e.createTextRange){var t=e.createTextRange();t.moveStart("character",0),t.select()}}(S),S.oninput=function(){if(this.value.length-22>this.max)return this.value=this.value.substr(0,this.max),!1}}document.querySelectorAll(".catalog-filter-dropdown");const L=document.querySelectorAll(".catalog-filter-dropdown__button");$(".catalog-navigation-list").on("click","a",(function(e){e.preventDefault();var t=$(this).attr("href"),s=$(t).offset().top;$("body,html").animate({scrollTop:s},1500)})),L&&Array.from(L).forEach(e=>{e.onclick=()=>{e.classList.toggle("closed")}}),$(".project-card-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!1,asNavFor:".project-nav-thumbnails",infinite:!1,swipeToSlide:!1,swipe:!1,responsive:[{breakpoint:1025,settings:{swipeToSlide:!0,swipe:!0}}]}),$(".project-nav-thumbnails").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".project-card-slider",dots:!1,focusOnSelect:!0}),$(".project-nav-thumbnails .slick-slide").removeClass("slick-active"),$(".project-nav-thumbnails .slick-slide").eq(0).addClass("slick-active"),$(".project-card-slider").on("beforeChange",(function(e,t,s,o){var a=o;$(".project-nav-thumbnails .slick-slide").removeClass("slick-active"),$(".project-nav-thumbnails .slick-slide").eq(a).addClass("slick-active")}));const k=document.querySelector(".project-card-planning-buttons"),y=document.querySelectorAll(".project-card-planning__button"),E=document.querySelectorAll(".project-card-planning-block");k&&y&&E&&(k.onclick=e=>{y.forEach((t,s)=>{t.classList.remove("active"),e.target.dataset.planBtn===E[s].dataset.planBlock?E[s].classList.add("shown"):E[s].classList.remove("shown")}),e.target.classList.add("active")});const q=document.querySelector(".catalog-filters__title--mobile"),T=document.querySelector(".settings-panel");q&&(q.onclick=()=>{q.classList.toggle("active"),T.classList.toggle("column")}),$(".project-card-features__link").on("click",(function(e){var t,s;e.preventDefault(),window.innerWidth>1024?(t=$(this).attr("href"),s=$(t).offset().top,$("body,html").animate({scrollTop:s},1500)):(t=$(this).attr("href")+"-mobile",s=$(t).offset().top,$("body,html").animate({scrollTop:s},1500))}));const A=document.querySelectorAll(".project-card-features__link-download");A&&Array.from(A).forEach(e=>{e.onclick=()=>{u.forEach(t=>{e.dataset.btn===t.dataset.modal&&(d.classList.add("visible"),t.classList.add("visible"))})}});const x=document.querySelector(".about-us-video-link");x&&(x.onclick=e=>{e.preventDefault(),u.forEach(e=>{x.dataset.btn===e.dataset.modal&&(d.classList.add("visible"),e.classList.add("visible"))})});const _=document.querySelectorAll(".project-card-table-tabs"),j=document.querySelectorAll(".project-card-table-tab"),C=document.querySelectorAll(".project-card-table");_&&j&&C&&_.forEach(e=>{e.onclick=e=>{Array.from(j).forEach((t,s)=>{t.classList.remove("active"),e.target.dataset.tab===C[s].dataset.table?C[s].classList.add("shown"):C[s].classList.remove("shown")}),e.target.classList.add("active")}});const M=document.querySelectorAll(".y-video");v&&(v.onclick=()=>{u.forEach(e=>{e.classList.remove("visible")}),c.forEach(e=>{e.classList.remove("active")}),h.forEach(e=>{e.classList.remove("visible")}),Array.from(M).forEach(e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),d.classList.remove("visible")}),function(){const e=document.querySelector(".search-form");if(e){const t=e.querySelector("input"),s=e.querySelector(".search-reset"),o=e.querySelector(".search-btn");t.addEventListener("focus",()=>{t.classList.add("expanded")}),t.addEventListener("input",()=>{t.value.trim().length?e.classList.add("active"):e.classList.remove("active")}),t.addEventListener("blur",a=>{a.relatedTarget!==s&&a.relatedTarget!==o&&(e.classList.remove("active"),t.classList.remove("expanded"))}),s.addEventListener("click",s=>{s.preventDefault(),t.value="",e.classList.remove("active"),t.classList.remove("expanded")})}const t=document.querySelector(".search-form__expand-btn"),s=document.querySelector(".search-form--mobile");if(s&&t){const e=s.querySelector("input"),o=s.querySelector(".search-reset"),a=s.querySelector(".search-btn");e.addEventListener("input",()=>{e.value.trim().length?s.classList.add("active"):s.classList.remove("active")}),t.addEventListener("click",()=>{s.classList.toggle("opened"),t.classList.toggle("active")}),e.addEventListener("blur",e=>{e.relatedTarget!==o&&e.relatedTarget!==a&&s.classList.remove("active")}),o.addEventListener("click",t=>{t.preventDefault(),e.value="",s.classList.remove("active")})}}(),window.addEventListener("resize",()=>{window.innerWidth>=1024?$(".popular-projects-new-slider").slick("unslick"):a()})});